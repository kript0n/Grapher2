<html>
<head>
	<link rel="stylesheet" href="jqmath.css">
	<script src="jquery.min.js"></script> 
	<script src="jqmath.min.js"></script>
	<script type="text/javascript">
		function setSelectionRange(input, selectionStart, selectionEnd) {
			if (input.setSelectionRange) {
				input.focus();
				input.setSelectionRange(selectionStart, selectionEnd);
			}
			else if (input.createTextRange) {
				var range = input.createTextRange();
				range.collapse(true);
				range.moveEnd('character', selectionEnd);
				range.moveStart('character', selectionStart);
				range.select();
			}
		}

		function setCaretToPos (input, pos) {
			setSelectionRange(input, pos, pos);
		}
	</script>
</head>
<body> 
	<script> 
	

	
	
		$(document).ready(function() {
		
		
			$("#div").bind('input', function() {
				var text = $(this).text();
				$(this).text('$$'+text+'$$');
				M.parseMath(document.body);
			});
		});
	</script>
	<div id="div" contenteditable="true" style='width:100%;height:40px;border:1px solid black;'>$${sin(x)}/{cos(x)}$$</div>
	<button onclick="parse();">Click</button>
	
</body> 
</html>